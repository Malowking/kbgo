server:
  address:     ":8000"
  openapiPath: "/api.json"
  swaggerPath: "/swagger"

logger:
  level : "all"
  stdout: true

database:
  default:
    host: "localhost" # 地址
    port: "3306" # 端口
    user: "root" # 账号
    pass: "your_password" # 密码
    name: "kbgo" # 数据库名称
    type: "mysql" # 数据库类型，支持 mysql 和 postgresql
    charset: "utf8mb4" # 数据库编码，一定要加上，因为文档里面经常出现特殊字符
    maxLifeTime: 3600 # 连接最大生命周期(秒)

#向量数据库
vector_db:
  type: "milvus"

# Milvus向量数据库配置
milvus:
  address: "http://localhost:19530"
  database: "kbgo"
  dim: 1024

# 文件存储配置
storage:
  # 存储类型: "rustfs" 或 "local"，默认为"rustfs"
  type: "local"

# rustfs文件存储配置（可选）
rustfs:
  endpoint: "http://localhost:9000"
  accessKey: "your_access_key"
  secretKey: "your_secret_key"
  bucketName: ""
  ssl: false

# Embedding模型配置
embedding:
  apiKey: "sk-your-api-key-here"
  baseURL: "https://api.openai.com/v1"
  model: "text-embedding-v3"

# Rerank模型配置
rerank:
  apiKey: "sk-your-api-key-here"
  baseURL: "https://api.openai.com/v1"
  model: "gte-rerank-v2"

# Query Rewrite模型配置
rewrite:
  apiKey: "sk-your-api-key-here"
  baseURL: "https://api.openai.com/v1"
  model: "o4-mini"

# Chat对话模型配置
chat:
  apiKey: "sk-your-api-key-here"
  baseURL: "https://api.openai.com/v1"
  model: "qwen3-32b"
  # 大模型推理参数
  temperature: 0.7           # 控制输出的随机性，0.0-2.0，越小越确定性
  topP: 0.9                  # 核采样参数，0.0-1.0，控制生成的多样性
  maxTokens: 4096            # 最大生成token数量
  frequencyPenalty: 0.0      # 频率惩罚，减少重复词汇，-2.0到2.0
  presencePenalty: 0.0       # 存在惩罚，鼓励新话题，-2.0到2.0
  stop: [ ]                   # 停止词列表
  functions: [ ]              # 函数调用配置

# 知识库检索默认参数配置
retriever:
  enableRewrite: false       # 是否启用查询重写（默认 false）
  rewriteAttempts: 3         # 查询重写尝试次数（默认 3）
  retrieveMode: "rerank"     # 检索模式: milvus/rerank/rrf（默认 rerank）